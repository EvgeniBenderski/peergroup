!!! 5
%html{:lang => "en"}
  %head
    %title= title
    %meta{ :charset => "utf-8" }
    = csrf_meta_tag
    = javascript_meta_information

    = stylesheet_link_tag 'compiled/screen.css', :media => 'screen, projection'
    = stylesheet_link_tag 'compiled/print.css', :media => 'print'
    /[if lt IE 8]
      = stylesheet_link_tag 'compiled/ie.css', :media => 'screen, projection'
    /[if lt IE 9]
      :javascript
        var e = ("abbr,article,aside,audio,canvas,datalist,details," + 
            "figure,footer,header,hgroup,mark,menu,meter,nav,output," + 
            "progress,section,time,video").split(','); 
        for (var i = 0; i < e.length; i++) { 
            document.createElement(e[i]); 
        }

  %body{ :id => id_for_body }
    %section
      = render 'layouts/header'

      #content
        - flash.each do |severity, message|
          %div{:class => "flash #{severity}"}= message
        = yield
      = render 'layouts/footer'

    -# Javascripts at end of body, to not slow down dowloading content
    = javascript_include_tag "socket.io.js"
    :javascript
      // This really sucks, but we have no other option to override this setting, or it will point to relative path
      // which doesn't have host:port path
      WEB_SOCKET_SWF_LOCATION = document.location.protocol + "//" + document.location.hostname + ":8080" + WEB_SOCKET_SWF_LOCATION;
    = javascript_include_tag :defaults

