%ul#ideas
  - @supervision.ideas.each do |idea|
    %li[idea]
      %dl
        %dt= t(".heading.idea", :default => "Idea")
        %dd
          .author
            = raw gravatar_for(idea.user)
            %p= idea.user.name

          %p= idea.content

        - if idea.rating || @supervision.problem_owner?(current_user)
          %dt= t(".heading.rating", :default => "Rating")
          %dl
            = form_for(idea) do |f|
              = hidden_field_tag :supervision_id, @supervision.id

              - 1.upto(5) do |i|
                = f.label :"rating_#{i}", i
                = f.radio_button :rating, i, idea.rating ? {:disabled => 'disabled'} : {}

              - unless idea.rating
                = f.submit t(".rate.rate", :default => "Rate")

- if @supervision.state == "idea_feedback"
  - if @supervision.problem_owner?(current_user)
    %p= t(".feedback.info", :default => "Provide the feedback on ideas")

